#!/usr/bin/env python3
"""개선된 search_law 테스트"""

# keyword_mapping 테스트
keyword_mapping = {
    "부동산": ["공인중개사법", "부동산등기법", "주택임대차보호법", "부동산 거래신고 등에 관한 법률", "부동산실권리자명의등기에관한법률"],
    "교통": ["도로교통법", "자동차관리법", "교통사고처리 특례법", "여객자동차 운수사업법"],
    "개인정보": ["개인정보 보호법", "정보통신망 이용촉진 및 정보보호 등에 관한 법률"],
    "노동": ["근로기준법", "최저임금법", "근로자퇴직급여 보장법", "산업안전보건법"],
    "근로": ["근로기준법", "최저임금법", "근로자퇴직급여 보장법", "산업안전보건법"]
}

print("=== 개선된 search_law 기능 ===\n")

print("1. 일반 키워드 → 구체적 법령 자동 매핑")
for keyword, laws in keyword_mapping.items():
    print(f"\n'{keyword}' 검색 시:")
    for law in laws[:3]:
        print(f"  - {law}")

print("\n\n2. 기존 문제점:")
print("  ❌ '부동산' 본문검색 → 1959년 군인 퇴직급여법 등 무관한 법령")
print("  ❌ API의 본문검색은 관련도 순서가 아닌 임의 순서")

print("\n3. 개선 후:")
print("  ✅ '부동산' 검색 → 공인중개사법, 부동산등기법 등 관련 법령만 표시")
print("  ✅ 각 법령을 개별적으로 정확히 검색하여 신뢰성 높은 결과")

print("\n4. 추천 사용법:")
print("  - 일반 검색: search_law('부동산') - 자동으로 관련 법령 검색")
print("  - 정확한 검색: search_law('공인중개사법') - 특정 법령 직접 검색")
print("  - 고급 검색: search_law_unified 사용 권장")

print("\n=== 결론 ===")
print("search_law는 이제 일반 키워드에 대해서도 실용적인 결과를 제공합니다.")
print("하지만 여전히 본문검색(search=2)의 한계는 있으므로,")
print("더 정밀한 검색이 필요한 경우 search_law_unified 사용을 권장합니다.") 